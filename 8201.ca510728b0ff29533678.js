(self.webpackChunkfantascivolizia=self.webpackChunkfantascivolizia||[]).push([[8201],{8201:(t,o,n)=>{"use strict";n.r(o),n.d(o,{PlayerPageModule:()=>_});var e=n(1116),a=n(1462),i=n(4812),r=n(3070),l=n(767),u=n(9550),s=n(7173),c=n(4369),g=n(1203);class p{constructor(t,o){this.events=t,this.reward=o}}class d{constructor(t,o,n,e,a,i,r,l,u,s,c,g){this.value=t,this.quot=o,this.contractType=n,this.contractLength=e,this.bonusList=a,this.repaid=i,this.repaidValue=r,this.finalQuot=l,this.finalValue=u,this.id=s,this.name=c,this.role=g}}var f=n(7368),m=n(4099),Z=n(9979),h=n(7064);function T(t,o){if(1&t){const t=f.EpF();f.TgZ(0,"mat-form-field",4),f.TgZ(1,"mat-label"),f._uU(2,"Durata"),f.qZA(),f.TgZ(3,"mat-select",5),f.NdJ("ngModelChange",function(o){return f.CHM(t),f.oxw(2).contractLength=o}),f.TgZ(4,"mat-option",15),f._uU(5,"12"),f.qZA(),f.TgZ(6,"mat-option",16),f._uU(7,"9"),f.qZA(),f.TgZ(8,"mat-option",17),f._uU(9,"6"),f.qZA(),f.TgZ(10,"mat-option",18),f._uU(11,"3"),f.qZA(),f.qZA(),f.qZA()}if(2&t){const t=f.oxw(2);f.xp6(3),f.Q6J("ngModel",t.contractLength)}}function q(t,o){1&t&&(f.TgZ(0,"mat-option",21),f._uU(1,"No"),f.qZA())}function b(t,o){if(1&t){const t=f.EpF();f.TgZ(0,"mat-form-field",4),f.TgZ(1,"mat-label"),f._uU(2,"Riscatto"),f.qZA(),f.TgZ(3,"mat-select",5),f.NdJ("ngModelChange",function(o){return f.CHM(t),f.oxw(2).repaid=o}),f.TgZ(4,"mat-option",19),f._uU(5,"S\xec"),f.qZA(),f.YNc(6,q,2,0,"mat-option",20),f.qZA(),f.qZA()}if(2&t){const t=f.oxw(2);f.xp6(3),f.Q6J("ngModel",t.repaid),f.xp6(3),f.Q6J("ngIf","lendR"==t.contractType)}}function A(t,o){if(1&t){const t=f.EpF();f.TgZ(0,"mat-form-field",4),f.TgZ(1,"mat-label"),f._uU(2,"Cifra Riscatto"),f.qZA(),f.TgZ(3,"input",3),f.NdJ("ngModelChange",function(o){return f.CHM(t),f.oxw(2).repaidValue=o}),f.qZA(),f.qZA()}if(2&t){const t=f.oxw(2);f.xp6(3),f.Q6J("ngModel",t.repaidValue)}}function v(t,o){if(1&t){const t=f.EpF();f.TgZ(0,"mat-form-field",4),f.TgZ(1,"mat-label"),f._uU(2,"No. Eventi Bonus 1"),f.qZA(),f.TgZ(3,"input",3),f.NdJ("ngModelChange",function(o){return f.CHM(t),f.oxw(2).bonus1Number=o}),f.qZA(),f.qZA()}if(2&t){const t=f.oxw(2);f.xp6(3),f.Q6J("ngModel",t.bonus1Number)}}function M(t,o){if(1&t){const t=f.EpF();f.TgZ(0,"mat-form-field",4),f.TgZ(1,"mat-label"),f._uU(2,"Ricompensa Bonus 1"),f.qZA(),f.TgZ(3,"input",3),f.NdJ("ngModelChange",function(o){return f.CHM(t),f.oxw(2).bonus1Reward=o}),f.qZA(),f.qZA()}if(2&t){const t=f.oxw(2);f.xp6(3),f.Q6J("ngModel",t.bonus1Reward)}}function x(t,o){if(1&t){const t=f.EpF();f.TgZ(0,"mat-form-field",4),f.TgZ(1,"mat-label"),f._uU(2,"No. Eventi Bonus 2"),f.qZA(),f.TgZ(3,"input",3),f.NdJ("ngModelChange",function(o){return f.CHM(t),f.oxw(2).bonus2Number=o}),f.qZA(),f.qZA()}if(2&t){const t=f.oxw(2);f.xp6(3),f.Q6J("ngModel",t.bonus2Number)}}function w(t,o){if(1&t){const t=f.EpF();f.TgZ(0,"mat-form-field",4),f.TgZ(1,"mat-label"),f._uU(2,"Ricompensa Bonus 2"),f.qZA(),f.TgZ(3,"input",3),f.NdJ("ngModelChange",function(o){return f.CHM(t),f.oxw(2).bonus2Reward=o}),f.qZA(),f.qZA()}if(2&t){const t=f.oxw(2);f.xp6(3),f.Q6J("ngModel",t.bonus2Reward)}}function N(t,o){if(1&t){const t=f.EpF();f.TgZ(0,"div",1),f.TgZ(1,"mat-form-field",2),f.TgZ(2,"mat-label"),f._uU(3,"Valore"),f.qZA(),f.TgZ(4,"input",3),f.NdJ("ngModelChange",function(o){return f.CHM(t),f.oxw().value=o}),f.qZA(),f.qZA(),f.TgZ(5,"mat-form-field",4),f.TgZ(6,"mat-label"),f._uU(7,"Quotazione iniziale"),f.qZA(),f.TgZ(8,"input",3),f.NdJ("ngModelChange",function(o){return f.CHM(t),f.oxw().quot=o}),f.qZA(),f.qZA(),f.TgZ(9,"mat-form-field",4),f.TgZ(10,"mat-label"),f._uU(11,"Quotazione finale"),f.qZA(),f.TgZ(12,"input",3),f.NdJ("ngModelChange",function(o){return f.CHM(t),f.oxw().finalQuot=o}),f.qZA(),f.qZA(),f.TgZ(13,"mat-form-field",4),f.TgZ(14,"mat-label"),f._uU(15,"Contratto"),f.qZA(),f.TgZ(16,"mat-select",5),f.NdJ("ngModelChange",function(o){return f.CHM(t),f.oxw().contractType=o}),f.TgZ(17,"mat-option",6),f._uU(18,"Definitivo"),f.qZA(),f.TgZ(19,"mat-option",7),f._uU(20,"Prestito"),f.qZA(),f.TgZ(21,"mat-option",8),f._uU(22,"Prestito (obbligo)"),f.qZA(),f.TgZ(23,"mat-option",9),f._uU(24,"Prestito (diritto)"),f.qZA(),f.qZA(),f.qZA(),f.YNc(25,T,12,1,"mat-form-field",10),f.YNc(26,b,7,2,"mat-form-field",10),f.YNc(27,A,4,1,"mat-form-field",10),f.TgZ(28,"mat-form-field",2),f.TgZ(29,"mat-label"),f._uU(30,"Bonus"),f.qZA(),f.TgZ(31,"mat-select",5),f.NdJ("ngModelChange",function(o){return f.CHM(t),f.oxw().bonus=o}),f.TgZ(32,"mat-option",11),f._uU(33,"0"),f.qZA(),f.TgZ(34,"mat-option",12),f._uU(35,"1"),f.qZA(),f.TgZ(36,"mat-option",13),f._uU(37,"2"),f.qZA(),f.qZA(),f.qZA(),f.YNc(38,v,4,1,"mat-form-field",10),f.YNc(39,M,4,1,"mat-form-field",10),f.YNc(40,x,4,1,"mat-form-field",10),f.YNc(41,w,4,1,"mat-form-field",10),f.TgZ(42,"ion-row"),f.TgZ(43,"ion-button",14),f.NdJ("click",function(){return f.CHM(t),f.oxw().save()}),f._uU(44,"Salva"),f.qZA(),f.qZA(),f.qZA()}if(2&t){const t=f.oxw();f.xp6(4),f.Q6J("ngModel",t.value),f.xp6(4),f.Q6J("ngModel",t.quot),f.xp6(4),f.Q6J("ngModel",t.finalQuot),f.xp6(4),f.Q6J("ngModel",t.contractType),f.xp6(9),f.Q6J("ngIf","def"!=t.contractType),f.xp6(1),f.Q6J("ngIf","lendR"==t.contractType||"lendO"==t.contractType),f.xp6(1),f.Q6J("ngIf","lendR"==t.contractType||"lendO"==t.contractType),f.xp6(4),f.Q6J("ngModel",t.bonus),f.xp6(7),f.Q6J("ngIf","0"!=t.bonus),f.xp6(1),f.Q6J("ngIf","0"!=t.bonus),f.xp6(1),f.Q6J("ngIf","2"==t.bonus),f.xp6(1),f.Q6J("ngIf","2"==t.bonus)}}const y=[{path:"",component:(()=>{class t{constructor(t,o,n,e){this.route=t,this.router=o,this.service=n,this.dataLoader=e,this.formFlag=!1}ngOnInit(){this.bonus="0",this.contractType="def",this.repaid="no",this.id=this.route.snapshot.paramMap.get("id");const t=+this.route.snapshot.paramMap.get("teamId"),o=+this.route.snapshot.paramMap.get("playerId");this.players=[...this.dataLoader.getTeam(t).players].concat(this.dataLoader.getTeam(t).borrowed,this.dataLoader.getTeam(t).youth);let n=this.players.filter(t=>t.playerId===o);this.formFlag=!0,this.value=n[0].value.toString(),this.quot=n[0].quot.toString(),this.finalQuot=n[0].quot.toString(),this.playerName=n[0].name,this.role=n[0].role}save(){let t=[];"1"===this.bonus?t.push(new p(+this.bonus1Number.replace(/,/g,"."),+this.bonus1Reward.replace(/,/g,"."))):"2"===this.bonus&&(t.push(new p(+this.bonus1Number.replace(/,/g,"."),+this.bonus1Reward.replace(/,/g,"."))),t.push(new p(+this.bonus2Number.replace(/,/g,"."),+this.bonus2Reward.replace(/,/g,".")))),this.service.save(+this.id,new d(+this.value.replace(/,/g,"."),+this.quot,this.contractType,this.contractLength,t,this.repaid,this.repaidValue?+this.repaidValue.replace(/,/g,"."):null,this.finalQuot?+this.finalQuot:+this.quot,+this.value.replace(/,/g,"."),null,this.playerName?this.playerName:"GIOCATORE",this.role)),this.router.navigate(["/tool-exchange"])}}return t.\u0275fac=function(o){return new(o||t)(f.Y36(g.gz),f.Y36(g.F0),f.Y36(m.o),f.Y36(Z.W))},t.\u0275cmp=f.Xpm({type:t,selectors:[["app-player"]],decls:7,vars:2,consts:[["class","player",4,"ngIf"],[1,"player"],["appearance","fill",2,"display","block","margin","auto"],["matInput","",3,"ngModel","ngModelChange"],["appearance","fill"],[3,"ngModel","ngModelChange"],["value","def"],["value","lend"],["value","lendO"],["value","lendR"],["appearance","fill",4,"ngIf"],["value","0"],["value","1"],["value","2"],[3,"click"],["value","12"],["value","9"],["value","6"],["value","3"],["value","yes"],["value","no",4,"ngIf"],["value","no"]],template:function(t,o){1&t&&(f.TgZ(0,"ion-header"),f.TgZ(1,"ion-toolbar"),f.TgZ(2,"ion-title"),f._uU(3),f.qZA(),f.qZA(),f.qZA(),f.TgZ(4,"ion-content"),f.TgZ(5,"ion-card"),f.YNc(6,N,45,12,"div",0),f.qZA(),f.qZA()),2&t&&(f.xp6(3),f.Oqu(o.playerName),f.xp6(3),f.Q6J("ngIf",o.formFlag))},directives:[i.Gu,i.sr,i.wd,i.W2,i.PM,e.O5,r.KE,r.hX,u.Nt,a.Fj,a.JJ,a.On,l.gD,h.ey,i.Nd,i.YG],styles:["ion-content[_ngcontent-%COMP%]{--background:none;background-color:var(--ion-color-primary-contrast)}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{color:var(--ion-color-primary-contrast);background-color:var(--ion-color-primary);padding:1em 0;margin:0;min-height:100%;min-height:-webkit-fill-available;min-height:fill-available}ion-button[_ngcontent-%COMP%]{margin:1em auto;--background:var(--ion-color-primary-contrast);--background-focused:var(--ion-color-primary-contrast);--color:var(--ion-color-primary);--color-activated:var(--ion-color-primary)}"]}),t})()}];let J=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=f.oAB({type:t}),t.\u0275inj=f.cJS({imports:[[g.Bz.forChild(y)],g.Bz]}),t})();var C=n(5425);let _=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=f.oAB({type:t}),t.\u0275inj=f.cJS({imports:[[e.ez,a.u5,i.Pc,J,r.lN,l.LD,u.c,s.Nh,c.ot,C.m]]}),t})()}}]);