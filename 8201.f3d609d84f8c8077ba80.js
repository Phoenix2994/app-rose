(self.webpackChunkfantascivolizia=self.webpackChunkfantascivolizia||[]).push([[8201],{8201:(t,e,n)=>{"use strict";n.r(e),n.d(e,{PlayerPageModule:()=>C});var o=n(1116),a=n(1462),i=n(4812),l=n(3070),u=n(767),r=n(9550),s=n(7173),g=n(4369),c=n(5713);class p{constructor(t,e){this.events=t,this.reward=e}}class d{constructor(t,e,n,o,a,i,l,u,r,s,g){this.value=t,this.quot=e,this.contractType=n,this.contractLength=o,this.bonusList=a,this.repaid=i,this.repaidValue=l,this.finalQuot=u,this.finalValue=r,this.id=s,this.name=g}}var f=n(7368),Z=n(4099),m=n(9637),h=n(7064);function T(t,e){if(1&t&&(f.TgZ(0,"ion-select-option",16),f.TgZ(1,"b"),f._uU(2),f.qZA(),f.qZA()),2&t){const t=e.$implicit;f.s9C("value",t.playerId),f.xp6(2),f.Oqu(t.name)}}function q(t,e){if(1&t){const t=f.EpF();f.TgZ(0,"mat-form-field",5),f.TgZ(1,"mat-label"),f._uU(2,"Durata"),f.qZA(),f.TgZ(3,"mat-select",6),f.NdJ("ngModelChange",function(e){return f.CHM(t),f.oxw().contractLength=e}),f.TgZ(4,"mat-option",17),f._uU(5,"12"),f.qZA(),f.TgZ(6,"mat-option",18),f._uU(7,"9"),f.qZA(),f.TgZ(8,"mat-option",19),f._uU(9,"6"),f.qZA(),f.TgZ(10,"mat-option",20),f._uU(11,"3"),f.qZA(),f.qZA(),f.qZA()}if(2&t){const t=f.oxw();f.xp6(3),f.Q6J("ngModel",t.contractLength)}}function A(t,e){1&t&&(f.TgZ(0,"mat-option",23),f._uU(1,"No"),f.qZA())}function b(t,e){if(1&t){const t=f.EpF();f.TgZ(0,"mat-form-field",5),f.TgZ(1,"mat-label"),f._uU(2,"Riscatto"),f.qZA(),f.TgZ(3,"mat-select",6),f.NdJ("ngModelChange",function(e){return f.CHM(t),f.oxw().repaid=e}),f.TgZ(4,"mat-option",21),f._uU(5,"S\xec"),f.qZA(),f.YNc(6,A,2,0,"mat-option",22),f.qZA(),f.qZA()}if(2&t){const t=f.oxw();f.xp6(3),f.Q6J("ngModel",t.repaid),f.xp6(3),f.Q6J("ngIf","lendR"==t.contractType)}}function v(t,e){if(1&t){const t=f.EpF();f.TgZ(0,"mat-form-field",5),f.TgZ(1,"mat-label"),f._uU(2,"Cifra Riscatto"),f.qZA(),f.TgZ(3,"input",4),f.NdJ("ngModelChange",function(e){return f.CHM(t),f.oxw().repaidValue=e}),f.qZA(),f.qZA()}if(2&t){const t=f.oxw();f.xp6(3),f.Q6J("ngModel",t.repaidValue)}}function M(t,e){if(1&t){const t=f.EpF();f.TgZ(0,"mat-form-field",5),f.TgZ(1,"mat-label"),f._uU(2,"No. Eventi Bonus 1"),f.qZA(),f.TgZ(3,"input",4),f.NdJ("ngModelChange",function(e){return f.CHM(t),f.oxw().bonus1Number=e}),f.qZA(),f.qZA()}if(2&t){const t=f.oxw();f.xp6(3),f.Q6J("ngModel",t.bonus1Number)}}function N(t,e){if(1&t){const t=f.EpF();f.TgZ(0,"mat-form-field",5),f.TgZ(1,"mat-label"),f._uU(2,"Ricompensa Bonus 1"),f.qZA(),f.TgZ(3,"input",4),f.NdJ("ngModelChange",function(e){return f.CHM(t),f.oxw().bonus1Reward=e}),f.qZA(),f.qZA()}if(2&t){const t=f.oxw();f.xp6(3),f.Q6J("ngModel",t.bonus1Reward)}}function J(t,e){if(1&t){const t=f.EpF();f.TgZ(0,"mat-form-field",5),f.TgZ(1,"mat-label"),f._uU(2,"No. Eventi Bonus 2"),f.qZA(),f.TgZ(3,"input",4),f.NdJ("ngModelChange",function(e){return f.CHM(t),f.oxw().bonus2Number=e}),f.qZA(),f.qZA()}if(2&t){const t=f.oxw();f.xp6(3),f.Q6J("ngModel",t.bonus2Number)}}function x(t,e){if(1&t){const t=f.EpF();f.TgZ(0,"mat-form-field",5),f.TgZ(1,"mat-label"),f._uU(2,"Ricompensa Bonus 2"),f.qZA(),f.TgZ(3,"input",4),f.NdJ("ngModelChange",function(e){return f.CHM(t),f.oxw().bonus2Reward=e}),f.qZA(),f.qZA()}if(2&t){const t=f.oxw();f.xp6(3),f.Q6J("ngModel",t.bonus2Reward)}}const w=[{path:"",component:(()=>{class t{constructor(t,e,n,o){this.route=t,this.router=e,this.service=n,this.dataLoader=o}ngOnInit(){this.bonus="0",this.contractType="def",this.repaid="no",this.id=this.route.snapshot.paramMap.get("id");const t=+this.route.snapshot.paramMap.get("teamId");this.players=[...this.dataLoader.getTeam(t).players].concat(this.dataLoader.getTeam(t).borrowed,this.dataLoader.getTeam(t).youth).sort((t,e)=>t.name<e.name?-1:t.name>e.name?1:0)}changePlayer(t){let e=this.players.filter(e=>e.playerId.toString()===t.detail.value);this.value=e[0].value.toString(),this.quot=e[0].quot.toString(),this.finalQuot=e[0].quot.toString(),this.playerName=e[0].name}save(){let t=[];"1"===this.bonus?t.push(new p(+this.bonus1Number.replace(/,/g,"."),+this.bonus1Reward.replace(/,/g,"."))):"2"===this.bonus&&(t.push(new p(+this.bonus1Number.replace(/,/g,"."),+this.bonus1Reward.replace(/,/g,"."))),t.push(new p(+this.bonus2Number.replace(/,/g,"."),+this.bonus2Reward.replace(/,/g,".")))),this.service.save(+this.id,new d(+this.value.replace(/,/g,"."),+this.quot,this.contractType,this.contractLength,t,this.repaid,this.repaidValue?+this.repaidValue.replace(/,/g,"."):null,this.finalQuot?+this.finalQuot:+this.quot,+this.value.replace(/,/g,"."),null,this.playerName?this.playerName:"GIOCATORE")),this.router.navigate(["/tool-exchange"])}}return t.\u0275fac=function(e){return new(e||t)(f.Y36(c.gz),f.Y36(c.F0),f.Y36(Z.o),f.Y36(m.W))},t.\u0275cmp=f.Xpm({type:t,selectors:[["app-player"]],decls:53,vars:13,consts:[["placeholder","Seleziona Giocatore",2,"width","100%","font-weight","bold","font-size","larger","margin-bottom","2em",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"player"],["appearance","fill",2,"display","block","margin","auto"],["matInput","",3,"ngModel","ngModelChange"],["appearance","fill"],[3,"ngModel","ngModelChange"],["value","def"],["value","lend"],["value","lendO"],["value","lendR"],["appearance","fill",4,"ngIf"],["value","0"],["value","1"],["value","2"],[3,"click"],[3,"value"],["value","12"],["value","9"],["value","6"],["value","3"],["value","yes"],["value","no",4,"ngIf"],["value","no"]],template:function(t,e){1&t&&(f.TgZ(0,"ion-header"),f.TgZ(1,"ion-toolbar"),f.TgZ(2,"ion-title"),f._uU(3,"Aggiungi giocatore"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(4,"ion-content"),f.TgZ(5,"ion-card"),f.TgZ(6,"ion-select",0),f.NdJ("ionChange",function(t){return e.changePlayer(t)}),f.YNc(7,T,3,2,"ion-select-option",1),f.qZA(),f.TgZ(8,"div",2),f.TgZ(9,"mat-form-field",3),f.TgZ(10,"mat-label"),f._uU(11,"Valore"),f.qZA(),f.TgZ(12,"input",4),f.NdJ("ngModelChange",function(t){return e.value=t}),f.qZA(),f.qZA(),f.TgZ(13,"mat-form-field",5),f.TgZ(14,"mat-label"),f._uU(15,"Quotazione iniziale"),f.qZA(),f.TgZ(16,"input",4),f.NdJ("ngModelChange",function(t){return e.quot=t}),f.qZA(),f.qZA(),f.TgZ(17,"mat-form-field",5),f.TgZ(18,"mat-label"),f._uU(19,"Quotazione finale"),f.qZA(),f.TgZ(20,"input",4),f.NdJ("ngModelChange",function(t){return e.finalQuot=t}),f.qZA(),f.qZA(),f.TgZ(21,"mat-form-field",5),f.TgZ(22,"mat-label"),f._uU(23,"Contratto"),f.qZA(),f.TgZ(24,"mat-select",6),f.NdJ("ngModelChange",function(t){return e.contractType=t}),f.TgZ(25,"mat-option",7),f._uU(26,"Definitivo"),f.qZA(),f.TgZ(27,"mat-option",8),f._uU(28,"Prestito"),f.qZA(),f.TgZ(29,"mat-option",9),f._uU(30,"Prestito (obbligo)"),f.qZA(),f.TgZ(31,"mat-option",10),f._uU(32,"Prestito (diritto)"),f.qZA(),f.qZA(),f.qZA(),f.YNc(33,q,12,1,"mat-form-field",11),f.YNc(34,b,7,2,"mat-form-field",11),f.YNc(35,v,4,1,"mat-form-field",11),f.TgZ(36,"mat-form-field",3),f.TgZ(37,"mat-label"),f._uU(38,"Bonus"),f.qZA(),f.TgZ(39,"mat-select",6),f.NdJ("ngModelChange",function(t){return e.bonus=t}),f.TgZ(40,"mat-option",12),f._uU(41,"0"),f.qZA(),f.TgZ(42,"mat-option",13),f._uU(43,"1"),f.qZA(),f.TgZ(44,"mat-option",14),f._uU(45,"2"),f.qZA(),f.qZA(),f.qZA(),f.YNc(46,M,4,1,"mat-form-field",11),f.YNc(47,N,4,1,"mat-form-field",11),f.YNc(48,J,4,1,"mat-form-field",11),f.YNc(49,x,4,1,"mat-form-field",11),f.TgZ(50,"ion-row"),f.TgZ(51,"ion-button",15),f.NdJ("click",function(){return e.save()}),f._uU(52,"Salva"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&t&&(f.xp6(7),f.Q6J("ngForOf",e.players),f.xp6(5),f.Q6J("ngModel",e.value),f.xp6(4),f.Q6J("ngModel",e.quot),f.xp6(4),f.Q6J("ngModel",e.finalQuot),f.xp6(4),f.Q6J("ngModel",e.contractType),f.xp6(9),f.Q6J("ngIf","def"!=e.contractType),f.xp6(1),f.Q6J("ngIf","lendR"==e.contractType||"lendO"==e.contractType),f.xp6(1),f.Q6J("ngIf","lendR"==e.contractType||"lendO"==e.contractType),f.xp6(4),f.Q6J("ngModel",e.bonus),f.xp6(7),f.Q6J("ngIf","0"!=e.bonus),f.xp6(1),f.Q6J("ngIf","0"!=e.bonus),f.xp6(1),f.Q6J("ngIf","2"==e.bonus),f.xp6(1),f.Q6J("ngIf","2"==e.bonus))},directives:[i.Gu,i.sr,i.wd,i.W2,i.PM,i.t9,i.QI,o.sg,l.KE,l.hX,r.Nt,a.Fj,a.JJ,a.On,u.gD,h.ey,o.O5,i.Nd,i.YG,i.n0],styles:["ion-card[_ngcontent-%COMP%]{background-color:#424242;color:#fff;padding:1em 0}ion-button[_ngcontent-%COMP%]{margin:1em auto}"]}),t})()}];let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=f.oAB({type:t}),t.\u0275inj=f.cJS({imports:[[c.Bz.forChild(w)],c.Bz]}),t})(),C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=f.oAB({type:t}),t.\u0275inj=f.cJS({imports:[[o.ez,a.u5,i.Pc,y,l.lN,u.LD,r.c,s.Nh,g.ot]]}),t})()}}]);