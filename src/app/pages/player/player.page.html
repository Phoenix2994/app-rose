<ion-header>
  <ion-toolbar>
    <ion-title
      >{{player?.name | formatName}}
      <ng-container *ngIf="player?.team"
        >({{player?.team}})</ng-container
      ></ion-title
    >
  </ion-toolbar>
</ion-header>

<ion-content
  [ngClass]="{
  'goalKeeperBackG' : player?.role == 'P', 
  'defenderBackG' : player?.role == 'D', 
  'midfielderBackG' : player?.role == 'C', 
  'attackBackG' : player?.role == 'A'}"
  [scrollEvents]="true"
>
  <div>
    <ion-card justify-content-center align-items-center>
      <img src="{{player?.img}}" alt="" />
      <div style="height: 181px; display: flex">
        <ion-grid style="margin: auto">
          <!--
        <ion-row>
          <ion-col>
            <strong> Nome </strong>
          </ion-col>
          <ion-col> {{player?.name | formatName}} </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <strong> Squadra </strong>
          </ion-col>
          <ion-col> {{player?.team}} </ion-col>
        </ion-row>
        <ion-row>
          <strong> Ruolo: </strong>
          {{player?.roleDetail | role}} </ion-row
        ><ion-row>
          <ion-col>
            <ion-row><p class="p-fg">{{player?.nationality }}</p></ion-row>
            <ion-row> <strong class="b-fg"> Nazionalità </strong></ion-row>
          </ion-col>-->
          <ion-row style="margin-bottom: 1em">
            <ion-col>
              <ion-row
                ><p class="p-fg">
                  {{player?.role ? player?.role : 'ND'}}
                </p></ion-row
              >
              <ion-row> <strong class="b-fg"> Ruolo </strong></ion-row>
            </ion-col>
            <ion-col>
              <ion-row><p class="p-fg">{{player?.age }}</p></ion-row>
              <ion-row> <strong class="b-fg"> Età </strong></ion-row>
            </ion-col> </ion-row
          ><ion-row>
            <ion-col>
              <ion-row><p class="p-fg">{{player?.mainFoot | foot}}</p></ion-row>
              <ion-row> <strong class="b-fg"> Piede </strong></ion-row>
            </ion-col>
            <ion-col>
              <ion-row><p class="p-fg">{{player?.height }}</p></ion-row>
              <ion-row> <strong class="b-fg"> Altezza </strong></ion-row>
            </ion-col>
          </ion-row></ion-grid
        >
      </div></ion-card
    ><ion-card
      ><ion-grid>
        <!--<ion-row>
          <ion-col>
            <ion-row
              ><p class="p-fg">{{player?.value | currency:'EUR'}}</p></ion-row
            >
            <ion-row> <strong class="b-fg"> Valore </strong></ion-row>
          </ion-col>
          <ion-col>
            <ion-row
              ><p class="p-fg">
                {{player?.originValue | currency:'EUR'}}
              </p></ion-row
            >
            <ion-row> <strong class="b-fg"> Valore Iniziale </strong></ion-row>
          </ion-col>
          <ion-col>
            <ion-row
              ><p class="p-fg">
                {{player?.paymentValue | currency:'EUR'}}
              </p></ion-row
            >
            <ion-row>
              <strong class="b-fg"> Costo acq./rinnovo </strong></ion-row
            >
          </ion-col>
          <ion-col>
            <ion-row
              ><p class="p-fg">{{player?.contractType | contract}}</p></ion-row
            >
            <ion-row> <strong class="b-fg"> Tipo contratto </strong></ion-row>
          </ion-col>
          <ion-col>
            <ion-row
              ><p class="p-fg">
                {{player?.nextContractRenewal *100 | round }}%
              </p></ion-row
            >
            <ion-row> <strong class="b-fg"> Prossimo rinnovo </strong></ion-row>
          </ion-col>
          <ion-col>
            <ion-row
              ><p class="p-fg">
                {{player?.nextPaymentValue | currency:'EUR'}}
              </p></ion-row
            >
            <ion-row>
              <strong class="b-fg"> Prossima spesa rinnovo </strong></ion-row
            >
          </ion-col>
          <ion-col>
            <ion-row><p class="p-fg">{{player?.quot}}</p></ion-row>
            <ion-row> <strong class="b-fg"> Quotazione </strong></ion-row>
          </ion-col>
          <ion-col>
            <ion-row><p class="p-fg">{{player?.originQuot}}</p></ion-row>
            <ion-row>
              <strong class="b-fg"> Quotazione Iniziale </strong></ion-row
            >
          </ion-col>
        </ion-row>
      -->
        <ion-row>
          <ion-col size="7">
            <strong> Valore </strong>
          </ion-col>
          <ion-col> {{player?.value | currency:'EUR'}} </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="7">
            <strong> Valore iniziale </strong>
          </ion-col>
          <ion-col> {{player?.originValue | currency:'EUR'}} </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="7">
            <strong> Costo acq./rinnovo </strong>
          </ion-col>
          <ion-col> {{player?.paymentValue | currency:'EUR'}} </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="7">
            <strong> Tipologia contratto </strong>
          </ion-col>
          <ion-col> {{player?.contractType | contract}} </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="7">
            <strong> Prossimo rinnovo </strong>
          </ion-col>
          <ion-col> {{player?.nextContractRenewal *100 | round }}%</ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="7">
            <strong> Prossima spesa rinnovo </strong>
          </ion-col>
          <ion-col> {{player?.nextPaymentValue | currency:'EUR'}} </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="7">
            <strong> Quotazione </strong>
          </ion-col>
          <ion-col> {{player?.quot}} </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="7">
            <strong> Quotazione iniziale </strong>
          </ion-col>
          <ion-col> {{player?.originQuot}} </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card>
    <ion-card>
      <ion-grid>
        <ion-row>
          <ion-col style="padding-top: 1em">
            <ion-label>
              <strong>Statistiche</strong>
            </ion-label>
          </ion-col>
          <ion-col>
            <ion-select
              (ionChange)="onChange($event)"
              placeholder="Scegli una Stagione"
              value="{{season}}"
              class="px-0 py-0"
            >
              <ion-select-option
                value="{{stats?.season}}"
                *ngFor="let stats of order(player?.stats)"
                >Stagione {{stats?.season}}
              </ion-select-option>
            </ion-select>
          </ion-col>
        </ion-row>
        <div *ngIf="stats">
          <ion-row style="padding-bottom: 1em">
            <ion-col size="7">
              <strong> Squadra </strong>
            </ion-col>
            <ion-col> {{stats?.team}} </ion-col>
          </ion-row>
          <ion-row style="margin-bottom: 1em">
            <ion-col>
              <ion-row><p class="p-fg">{{stats?.pg }}</p></ion-row>
              <ion-row> <strong class="b-fg"> Partite </strong></ion-row>
            </ion-col>
            <ion-col *ngIf="!(player?.roleDetail)?.includes('porta')">
              <ion-row><p class="p-fg">{{stats?.gf }}</p></ion-row>
              <ion-row> <strong class="b-fg"> Goal </strong></ion-row>
            </ion-col>
            <ion-col *ngIf="!(player?.roleDetail)?.includes('porta')">
              <ion-row><p class="p-fg">{{stats?.ass}}</p></ion-row>
              <ion-row> <strong class="b-fg"> Assist </strong></ion-row>
            </ion-col>
            <ion-col *ngIf="(player?.roleDetail)?.includes('porta')">
              <ion-row><p class="p-fg">{{stats?.gs }}</p></ion-row>
              <ion-row> <strong class="b-fg"> Goal subiti </strong></ion-row>
            </ion-col>
            <ion-col>
              <ion-row><p class="p-fg">{{stats?.amm }}</p></ion-row>
              <ion-row> <strong class="b-fg"> Ammonizioni </strong></ion-row>
            </ion-col>
            <ion-col>
              <ion-row><p class="p-fg">{{stats?.esp}}</p></ion-row>
              <ion-row> <strong class="b-fg"> Espulsioni </strong></ion-row>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <ion-row
                ><p class="p-fg">
                  {{stats?.mv | round}} ({{stats?.mvt * 100| round}}%)
                </p></ion-row
              >
              <ion-row> <strong class="b-fg"> MV </strong></ion-row>
            </ion-col>
            <ion-col>
              <ion-row
                ><p class="p-fg">
                  {{stats?.mf | round}} ({{stats?.mft * 100| round}}%)
                </p></ion-row
              >
              <ion-row> <strong class="b-fg"> MFV </strong></ion-row>
            </ion-col>
          </ion-row>
          <!--
          <ion-row>
            <ion-col>
              <strong> Partite giocate </strong>
            </ion-col>
            <ion-col> {{stats?.pg}} </ion-col>
          </ion-row>
          <ion-row *ngIf="!(player?.roleDetail)?.includes('porta')">
            <ion-col>
              <strong> Gol </strong>
            </ion-col>
            <ion-col> {{stats?.gf}} </ion-col>
          </ion-row>
          <ion-row *ngIf="!(player?.roleDetail)?.includes('porta')">
            <ion-col>
              <strong> Assist </strong>
            </ion-col>
            <ion-col> {{stats?.ass}} </ion-col>
          </ion-row>
          <ion-row *ngIf="(player?.roleDetail)?.includes('porta')">
            <ion-col>
              <strong> Gol subiti </strong>
            </ion-col>
            <ion-col> {{stats?.gs}} </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <strong> Autogol </strong>
            </ion-col>
            <ion-col> {{stats?.aut}} </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <strong> Cartellini gialli </strong>
            </ion-col>
            <ion-col> {{stats?.amm}} </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <strong> Cartellini rossi </strong>
            </ion-col>
            <ion-col> {{stats?.esp}} </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <strong> Mediavoto </strong>
            </ion-col>
            <ion-col> {{stats?.mv | round}} </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <strong> Percentile Mediavoto </strong>
            </ion-col>
            <ion-col> {{stats?.mvt * 100| round}}%</ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <strong> FantaMediavoto </strong>
            </ion-col>
            <ion-col> {{stats?.mf | round}} </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <strong> Percentile FantaMediavoto </strong>
            </ion-col>
            <ion-col> {{stats?.mft * 100 | round}}%</ion-col>
          </ion-row>-->
        </div>
      </ion-grid>
    </ion-card>
  </div>
</ion-content>
