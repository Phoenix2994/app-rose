<ion-header>
  <ion-toolbar>
    <ion-title>{{playerName}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <div *ngIf="formFlag" class="player">
      <!--<mat-form-field style="display: block; margin: auto" appearance="fill">
        <mat-label>Valore</mat-label>
        <input [(ngModel)]="value" matInput />
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>Quotazione iniziale</mat-label>
        <input [(ngModel)]="quot" matInput />
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>Quotazione finale</mat-label>
        <input [(ngModel)]="finalQuot" matInput />
      </mat-form-field>-->
      <mat-form-field
        [ngStyle]="{'margin': contractType === 'def' ? 'auto' : '0 10px 0 0'}"
        appearance="fill"
      >
        <mat-label>Contratto</mat-label>
        <mat-select [(ngModel)]="contractType">
          <mat-option value="def">Definitivo</mat-option>
          <mat-option value="lend">Prestito</mat-option>
          <mat-option value="lendO">Prestito (obbligo)</mat-option>
          <mat-option value="lendR">Prestito (diritto)</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field *ngIf="contractType != 'def'" appearance="fill">
        <mat-label>Durata</mat-label>
        <mat-select [(ngModel)]="contractLength">
          <mat-option value="12">12</mat-option>
          <mat-option value="9">9</mat-option>
          <mat-option value="6">6</mat-option>
          <mat-option value="3">3</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field
        *ngIf="contractType == 'lendR' || contractType == 'lendO' "
        appearance="fill"
      >
        <mat-label>Riscatto</mat-label>
        <mat-select [(ngModel)]="repaid">
          <mat-option value="yes">SÃ¬</mat-option>
          <mat-option *ngIf="contractType == 'lendR'" value="no">No</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field
        *ngIf="contractType == 'lendR' || contractType == 'lendO'"
        appearance="fill"
      >
        <mat-label>Cifra Riscatto</mat-label>
        <input [(ngModel)]="repaidValue" matInput />
      </mat-form-field>
      <mat-form-field style="display: block; margin: auto" appearance="fill">
        <mat-label>Bonus</mat-label>
        <mat-select [(ngModel)]="bonus" multiple>
          <mat-option *ngFor="let b of bonusList" [value]="b.key"
            >{{b.value}}</mat-option
          >
        </mat-select>
      </mat-form-field>
      <ng-container *ngFor="let b of bonus">
        <mat-form-field
          [ngStyle]="{'display': (!bonusListValue[b]['targetFlag'] ? 'block' : 'inline-block'),
          'margin': (!bonusListValue[b]['targetFlag'] ? 'auto' : '0 10px 0 0')}"
          appearance="fill"
        >
          <mat-label>{{bonusListEnum[b]}}</mat-label>
          <input [(ngModel)]="bonusListValue[b]['reward']" matInput />
        </mat-form-field>
        <mat-form-field
          *ngIf="bonusListValue[b]['targetFlag']"
          [ngStyle]="{'display': (!bonusListValue[b]['targetFlag'] ? 'block' : 'inline-block'),
          'margin': (!bonusListValue[b]['targetFlag'] ? 'auto' : '0 10px 0 0')}"
          appearance="fill"
        >
          <mat-label>Ricompensa</mat-label>
          <input
            [(ngModel)]="bonusListValue[b]['target']"
            matInput
          /> </mat-form-field
      ></ng-container>
      <ion-row>
        <ion-button (click)="save()">Salva</ion-button>
      </ion-row>
    </div></ion-card
  >
</ion-content>
