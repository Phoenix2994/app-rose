<mat-form-field style="margin-top: 1rem" appearance="fill">
  <mat-label>Aggiungi soldi</mat-label>
  <input (change)="setExtra()" [(ngModel)]="extra" matInput />
</mat-form-field>
<ion-row>
  <ion-button routerLink="/easy-tool/team/{{ teamId }}/{{ teamPos }}"
    >Aggiungi giocatore</ion-button
  >
</ion-row>

<table
  #teamTable
  mat-table
  [ngClass]="{ tableHidden: team.length == 0 }"
  [dataSource]="team"
  class="mat-elevation-z8"
  style="margin-top: 0"
>
  <ng-container matColumnDef="role">
    <th mat-header-cell *matHeaderCellDef></th>
    <td mat-cell *matCellDef="let element">
      <b
        [ngStyle]="{ 'background-color': computeRoleColor(element.role) }"
        class="role"
        >{{ element.role }}</b
      >
    </td>
  </ng-container>

  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef>Nome</th>
    <td mat-cell *matCellDef="let element">
      {{ element.name | formatName }}
    </td>
  </ng-container>

  <ng-container matColumnDef="value">
    <th mat-header-cell *matHeaderCellDef>Val.</th>
    <td mat-cell *matCellDef="let element">
      {{ element.value | currency: "EUR" }}
    </td>
  </ng-container>

  <ng-container matColumnDef="contract">
    <th mat-header-cell *matHeaderCellDef>Contr.</th>
    <td mat-cell *matCellDef="let element">
      {{ element.contractType | contractTypeMap }}
    </td>
  </ng-container>

  <ng-container matColumnDef="length">
    <th mat-header-cell *matHeaderCellDef>Durata</th>
    <td mat-cell *matCellDef="let element">
      {{ element.contractLength }}
    </td>
  </ng-container>

  <ng-container matColumnDef="bonus">
    <th mat-header-cell *matHeaderCellDef>Bonus</th>
    <td mat-cell *matCellDef="let element">
      {{ element.bonusList | bonusCompute }}
    </td>
  </ng-container>

  <ng-container matColumnDef="remove">
    <th mat-header-cell *matHeaderCellDef></th>
    <td mat-cell *matCellDef="let element" (click)="onRemove(element.id)">
      <ion-icon name="remove-circle"></ion-icon>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="teamCols"></tr>
  <tr mat-row *matRowDef="let row; columns: teamCols"></tr>
</table>
<ion-icon
  *ngIf="team.length !== 0"
  class="big-icon"
  name="arrow-down-circle"
></ion-icon>

<table
  [ngClass]="{ tableHidden: team.length == 0 }"
  #finalTeamTable
  mat-table
  [dataSource]="teamValues"
  class="mat-elevation-z8 final"
  style="margin-bottom: 0"
>
  <ng-container matColumnDef="role">
    <th mat-header-cell *matHeaderCellDef></th>
    <td mat-cell *matCellDef="let element">
      <b
        [ngStyle]="{ 'background-color': computeRoleColor(element.role) }"
        class="role"
        >{{ element.role }}</b
      >
    </td>
  </ng-container>
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef>Nome</th>
    <td mat-cell *matCellDef="let element">
      {{ element.name | formatName }}
    </td>
  </ng-container>

  <ng-container matColumnDef="value">
    <th mat-header-cell *matHeaderCellDef>Val. Finale</th>
    <td mat-cell *matCellDef="let element">
      {{ element.finalValue | roundPipe | currency: "EUR" }}
    </td>
  </ng-container>

  <ng-container matColumnDef="trend">
    <th mat-header-cell *matHeaderCellDef></th>
    <td mat-cell *matCellDef="let element">
      <ion-icon
        style="font-size: 2rem; color: lightgreen"
        *ngIf="element.value !== element.finalValue"
        name="caret-up-outline"
      ></ion-icon>
      <ion-icon
        style="font-size: 2rem; color: white"
        *ngIf="element.value === element.finalValue"
        name="caret-forward-outline"
      ></ion-icon>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="finalTeamCols"></tr>
  <tr mat-row *matRowDef="let row; columns: finalTeamCols"></tr>
</table>
